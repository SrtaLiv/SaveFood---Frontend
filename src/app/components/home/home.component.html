<app-search></app-search>
<div class="flex flex-column gap-2 p-4">
    <h1>Mis comidas</h1>
  @for (meal of mealTypes; track meal) {
  <h2>{{meal}}</h2>

  <!-- <div class="flex gap-4 flex-wrap"> -->

  <!-- <p-toast /> -->
  <p-table [value]="foods" [tableStyle]="{ 'min-width': '20rem' }">

    <ng-template pTemplate="body" let-food>
      @if (food.meal === meal) {
      <tr>
        <td><img class="w-full img" height="50" alt="Card"
            [src]="food.image?food.image.imageUrl:'/assets/default.png'" />
        </td>
        <td>{{ food.name }}</td>
        <td>{{ food.meal }}</td>
        <td>
          <a routerLink="food-form/{{ food.id }}" class="p-button font-bold">
            <i class="pi pi-pencil"></i>
          </a>
        </td>
        <td>
          <p-button mat-raised-button (click)="openDialog('0ms', '0ms')" icon="pi pi-trash"></p-button>
          <!-- <p-button (onClick)="deleteFood(food.id)" severity="secondary" icon="pi pi-trash" /> -->
          <dialog>
            <h1>Â¿Estas seguro que quieres eliminar la comida?</h1>
            <!-- <p-button (onClick)="deleteFood(food.id)" severity="secondary" icon="pi pi-trash" /> -->
            <p-button (click)="closeDialog()" (onClick)="deleteFood(food.id)" icon="pi pi-trash">Aceptar</p-button>
            <p-button (click)="closeDialog()">Cancelar</p-button>
          </dialog>
        </td>
      </tr>
      }
    </ng-template>
  </p-table>
  <!-- </div> -->


  <a routerLink="food-form/new" class="p-button font-normal align-center">
    + Agregar
  </a>
  }

</div>